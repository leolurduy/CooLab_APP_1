# CooLab - Plataforma de Conexi√≥n Social

## üåü Descripci√≥n

CooLab es una plataforma innovadora que conecta organizaciones sociales, donantes y receptores en Am√©rica Latina y el mundo. La plataforma facilita la colaboraci√≥n y el impacto social a trav√©s de un sistema de mapeo interactivo, formularios de conexi√≥n y gesti√≥n de proyectos sociales.

## ‚ú® Caracter√≠sticas Principales

### üó∫Ô∏è **Mapa Interactivo Profesional**
- **Leaflet + MapTiler**: Mapa interactivo de alta calidad con tiles profesionales
- **M√∫ltiples Estilos**: Calles, B√°sico, H√≠brido, Sat√©lite, Outdoor, Voyager
- **Marcadores Din√°micos**: Visualizaci√≥n de organizaciones con informaci√≥n detallada
- **Filtros Avanzados**: B√∫squeda por pa√≠s, ciudad, ODS y poblaci√≥n objetivo
- **Centrado en Am√©rica Latina**: Configuraci√≥n optimizada para la regi√≥n

### üîó **Sistema de Conexi√≥n**
- **Formulario de Donantes**: Registro de organizaciones que ofrecen recursos
- **Formulario de Receptores**: Solicitudes de proyectos y necesidades
- **Matching Inteligente**: Conexi√≥n autom√°tica basada en criterios

### üåç **Internacionalizaci√≥n**
- **8 Idiomas**: Espa√±ol, Ingl√©s, Franc√©s, Italiano, Japon√©s, Coreano, Portugu√©s, Ruso, Chino
- **Interfaz Adaptativa**: Cambio din√°mico de idioma en tiempo real

### üì± **Dise√±o Responsivo**
- **Mobile-First**: Optimizado para dispositivos m√≥viles
- **Tailwind CSS**: Sistema de dise√±o moderno y escalable
- **Componentes Reutilizables**: Arquitectura modular y mantenible

## üöÄ **Instalaci√≥n y Configuraci√≥n**

### **Prerrequisitos**
- Node.js 16+ 
- npm o yarn
- Cuenta en Supabase
- Cuenta en MapTiler (gratuita)

### **1. Clonar el Repositorio**
```bash
git clone <tu-repositorio>
cd app_web
```

### **2. Instalar Dependencias**
```bash
npm install
npm install leaflet react-leaflet @supabase/supabase-js
```

### **3. Configurar Variables de Entorno**
Crea un archivo `.env` en la ra√≠z del proyecto:

```env
REACT_APP_SUPABASE_URL=tu_url_de_supabase_aqui
REACT_APP_SUPABASE_ANON_KEY=tu_clave_anonima_de_supabase_aqui
REACT_APP_MAPTILER_KEY=tu_api_key_de_maptiler_aqui
```

### **4. Configurar Supabase**
1. Ve a [Supabase](https://supabase.com/)
2. Crea un nuevo proyecto
3. Crea la tabla `organizations` con la siguiente estructura:

```sql
CREATE TABLE organizations (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  country VARCHAR(100) NOT NULL,
  city VARCHAR(100) NOT NULL,
  address TEXT,
  lat DECIMAL(10, 8),
  lng DECIMAL(11, 8),
  ods INTEGER[],
  targetPopulation VARCHAR(100)[],
  socialObject TEXT,
  contact JSONB,
  projects JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);
```

### **5. Configurar MapTiler**
1. Ve a [MapTiler](https://www.maptiler.com/)
2. Crea una cuenta gratuita
3. Obt√©n tu API Key
4. Agrega la API Key en tu archivo `.env`

**üìñ Ver instrucciones detalladas en [MAPTILER_SETUP.md](./MAPTILER_SETUP.md)**

### **6. Ejecutar la Aplicaci√≥n**
```bash
npm start
```

La aplicaci√≥n estar√° disponible en `http://localhost:3000`

## üèóÔ∏è **Arquitectura del Proyecto**

### **Estructura de Archivos**
```
src/
‚îú‚îÄ‚îÄ components/          # Componentes React reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ Mapa.js        # Componente del mapa interactivo con Leaflet + MapTiler
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ config/             # Archivos de configuraci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ maptiler.js    # Configuraci√≥n de MapTiler
‚îú‚îÄ‚îÄ lib/               # Utilidades y clientes de base de datos
‚îÇ   ‚îú‚îÄ‚îÄ supabaseClient.js  # Cliente de Supabase
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ languages/         # Archivos de internacionalizaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ es.json       # Espa√±ol
‚îÇ   ‚îú‚îÄ‚îÄ en.json       # Ingl√©s
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ App.js            # Componente principal de la aplicaci√≥n
‚îú‚îÄ‚îÄ App.css           # Estilos personalizados
‚îî‚îÄ‚îÄ index.js          # Punto de entrada
```

### **Componentes Principales**

#### **Mapa.js**
- **Prop√≥sito**: Renderiza el mapa interactivo con Leaflet + MapTiler
- **Funcionalidades**:
  - Visualizaci√≥n de organizaciones como marcadores
  - Popups informativos con detalles de cada organizaci√≥n
  - Cambio din√°mico de estilos de mapa (Calles, Sat√©lite, H√≠brido, etc.)
  - Integraci√≥n con el estado global de la aplicaci√≥n
  - Carga de datos desde Supabase o datos locales

#### **maptiler.js**
- **Prop√≥sito**: Configuraci√≥n centralizada de MapTiler
- **Funcionalidades**:
  - Gesti√≥n de API keys
  - Configuraci√≥n de estilos de mapa
  - Validaci√≥n de configuraci√≥n
  - Funciones helper para URLs y atribuciones

#### **supabaseClient.js**
- **Prop√≥sito**: Cliente para interactuar con la base de datos Supabase
- **Funciones**:
  - `cargarOrganizaciones()`: Obtiene todas las organizaciones
  - `crearOrganizacion()`: Crea una nueva organizaci√≥n
  - `actualizarOrganizacion()`: Actualiza datos existentes
  - `eliminarOrganizacion()`: Elimina organizaciones

### **Flujo de Datos**
1. **Carga Inicial**: Los datos se cargan desde Supabase al montar el componente
2. **Filtrado**: Los filtros se aplican en tiempo real
3. **Visualizaci√≥n**: El mapa se actualiza autom√°ticamente con los resultados filtrados
4. **Selecci√≥n**: Al hacer clic en un marcador, se selecciona la organizaci√≥n

## üó∫Ô∏è **Caracter√≠sticas del Mapa**

### **Estilos Disponibles**
- **Streets**: Mapa de calles detallado (por defecto)
- **Basic**: Mapa b√°sico y limpio
- **Hybrid**: Combinaci√≥n de calles y sat√©lite
- **Satellite**: Vista satelital
- **Outdoor**: Ideal para actividades al aire libre
- **Voyager**: Estilo de exploraci√≥n

### **Funcionalidades Avanzadas**
- **Zoom Control**: Control de zoom personalizado
- **Marcadores Interactivos**: Popups con informaci√≥n detallada
- **Navegaci√≥n Suave**: Movimiento fluido por el mapa
- **Responsive**: Se adapta a diferentes tama√±os de pantalla

## üé® **Tecnolog√≠as Utilizadas**

### **Frontend**
- **React 18**: Biblioteca de interfaz de usuario
- **Tailwind CSS**: Framework de CSS utilitario
- **Leaflet**: Biblioteca de mapas interactivos
- **React-Leaflet**: Integraci√≥n de Leaflet con React

### **Mapas y Tiles**
- **MapTiler**: Servicio de tiles de alta calidad
- **OpenStreetMap**: Datos geogr√°ficos base
- **Leaflet CSS**: Estilos para el mapa

### **Backend y Base de Datos**
- **Supabase**: Backend-as-a-Service con PostgreSQL
- **PostgreSQL**: Base de datos relacional robusta
- **REST API**: API RESTful para operaciones CRUD

### **Herramientas de Desarrollo**
- **Create React App**: Configuraci√≥n inicial del proyecto
- **ESLint**: Linting de c√≥digo
- **Git**: Control de versiones

## üìä **Base de Datos**

### **Tabla `organizations`**
| Campo | Tipo | Descripci√≥n |
|-------|------|-------------|
| `id` | SERIAL | Identificador √∫nico |
| `name` | VARCHAR(255) | Nombre de la organizaci√≥n |
| `country` | VARCHAR(100) | Pa√≠s de ubicaci√≥n |
| `city` | VARCHAR(100) | Ciudad de ubicaci√≥n |
| `address` | TEXT | Direcci√≥n completa |
| `lat` | DECIMAL(10,8) | Latitud para el mapa |
| `lng` | DECIMAL(11,8) | Longitud para el mapa |
| `ods` | INTEGER[] | Array de ODS (Objetivos de Desarrollo Sostenible) |
| `targetPopulation` | VARCHAR(100)[] | Poblaci√≥n objetivo |
| `socialObject` | TEXT | Objeto social de la organizaci√≥n |
| `contact` | JSONB | Informaci√≥n de contacto |
| `projects` | JSONB | Proyectos de la organizaci√≥n |

### **Ejemplo de Datos**
```json
{
  "name": "Fundaci√≥n CooLab",
  "country": "M√©xico",
  "city": "Ciudad de M√©xico",
  "lat": 19.4326,
  "lng": -99.1332,
  "ods": [1, 4, 8],
  "targetPopulation": ["J√≥venes", "Mujeres"],
  "socialObject": "Promover la cooperaci√≥n social",
  "contact": {
    "email": "info@coo-lab.org",
    "phone": "+52 55 1234 5678",
    "website": "https://coo-lab.org"
  }
}
```

## üöÄ **Despliegue**

### **Despliegue en Producci√≥n**
```bash
npm run build
```

### **Plataformas Recomendadas**
- **Vercel**: Despliegue autom√°tico desde GitHub
- **Netlify**: Hosting est√°tico con funciones serverless
- **AWS S3 + CloudFront**: Soluci√≥n escalable para producci√≥n

### **Variables de Entorno en Producci√≥n**
Aseg√∫rate de configurar las variables de entorno en tu plataforma de hosting:
- `REACT_APP_SUPABASE_URL`
- `REACT_APP_SUPABASE_ANON_KEY`
- `REACT_APP_MAPTILER_KEY`

## üîÆ **Escalabilidad Futura**

### **Arquitectura H√≠brida Recomendada**
- **PostgreSQL (Supabase)**: Para datos estructurados como organizaciones, usuarios, ODS
- **MongoDB Atlas**: Para datos flexibles como archivos adjuntos, comentarios, logs

### **Integraci√≥n con MongoDB**
```javascript
// src/lib/mongoClient.js (para el futuro)
import { MongoClient } from 'mongodb'

const mongoUri = process.env.REACT_APP_MONGODB_URI
const client = new MongoClient(mongoUri)

export const connectMongo = async () => {
  try {
    await client.connect()
    return client.db('coo-lab')
  } catch (error) {
    console.error('Error conectando a MongoDB:', error)
    return null
  }
}
```

### **Casos de Uso para MongoDB**
- **Archivos Adjuntos**: Documentos, im√°genes, videos
- **Comentarios y Reviews**: Sistema de feedback de usuarios
- **Logs de Actividad**: Historial de interacciones
- **Datos No Estructurados**: Contenido din√°mico y flexible

## üîí **Seguridad**

### **Buenas Pr√°cticas**
- **Claves An√≥nimas**: Solo usa claves an√≥nimas de Supabase en el frontend
- **Variables de Entorno**: Nunca expongas claves secretas en el c√≥digo
- **Validaci√≥n de Datos**: Valida todos los inputs del usuario
- **HTTPS**: Usa siempre conexiones seguras en producci√≥n

### **Archivos de Configuraci√≥n**
```gitignore
# .gitignore
.env
.env.local
.env.development.local
.env.test.local
.env.production.local
node_modules/
build/
```

## üß™ **Testing**

### **Ejecutar Tests**
```bash
npm test
```

### **Cobertura de C√≥digo**
```bash
npm test -- --coverage --watchAll=false
```

## ü§ù **Contribuci√≥n**

### **Flujo de Trabajo**
1. Fork del repositorio
2. Crear una rama para tu feature (`git checkout -b feature/nueva-funcionalidad`)
3. Commit de tus cambios (`git commit -am 'Agregar nueva funcionalidad'`)
4. Push a la rama (`git push origin feature/nueva-funcionalidad`)
5. Crear un Pull Request

### **Est√°ndares de C√≥digo**
- Usar ESLint para mantener consistencia
- Seguir las convenciones de React
- Documentar funciones complejas
- Escribir tests para nuevas funcionalidades

## üìÑ **Licencia**

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## üìû **Contacto**

- **Email**: info@coo-lab.org
- **Website**: https://coo-lab.org
- **GitHub**: [tu-usuario/coo-lab](https://github.com/tu-usuario/coo-lab)

## üôè **Agradecimientos**

- **Supabase** por proporcionar la infraestructura de backend
- **MapTiler** por los tiles de mapas de alta calidad
- **Leaflet** por la biblioteca de mapas interactivos
- **Tailwind CSS** por el sistema de dise√±o utilitario

---

**CooLab** - Conectando impacto social a trav√©s de la cooperaci√≥n digital üåü
